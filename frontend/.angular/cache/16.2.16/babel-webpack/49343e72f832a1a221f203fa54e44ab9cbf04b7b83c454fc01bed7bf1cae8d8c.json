{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/auth.service\";\nimport * as i2 from \"../services/payment.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction DashboardComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 22)(2, \"div\", 23)(3, \"h5\");\n    i0.ɵɵtext(4, \"Upgrade to PRO\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6, \"Unlock premium templates and advanced features!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_18_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.upgradeToPro(\"MONTHLY\"));\n    });\n    i0.ɵɵtext(8, \" Monthly - $9.99 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_18_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.upgradeToPro(\"ONE_TIME\"));\n    });\n    i0.ɵɵtext(10, \" One-time - $29.99 \");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nlet DashboardComponent = /*#__PURE__*/(() => {\n  class DashboardComponent {\n    constructor(authService, paymentService, router) {\n      this.authService = authService;\n      this.paymentService = paymentService;\n      this.router = router;\n      this.currentUser = null;\n    }\n    ngOnInit() {\n      this.currentUser = this.authService.currentUserValue;\n    }\n    logout() {\n      this.authService.logout();\n      window.location.href = '/login';\n    }\n    upgradeToPro(planType) {\n      this.paymentService.createCheckoutSession(planType).subscribe({\n        next: response => {\n          window.location.href = response.url;\n        },\n        error: error => {\n          console.error('Payment error:', error);\n        }\n      });\n    }\n    createSignature() {\n      this.router.navigate(['/editor']);\n    }\n    static {\n      this.ɵfac = function DashboardComponent_Factory(t) {\n        return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.PaymentService), i0.ɵɵdirectiveInject(i3.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: DashboardComponent,\n        selectors: [[\"app-dashboard\"]],\n        decls: 50,\n        vars: 8,\n        consts: [[1, \"dashboard\"], [1, \"dashboard-header\"], [1, \"container\"], [1, \"row\", \"align-items-center\"], [1, \"col-md-8\"], [1, \"welcome-section\"], [1, \"welcome-title\"], [1, \"welcome-subtitle\"], [1, \"col-md-4\", \"text-end\"], [1, \"user-actions\"], [1, \"status-badge\"], [1, \"btn\", \"btn-outline-light\", 3, \"click\"], [1, \"fas\", \"fa-sign-out-alt\"], [\"class\", \"row\", 4, \"ngIf\"], [1, \"row\"], [1, \"col-md-4\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"btn\", \"btn-primary\"], [1, \"btn\", \"btn-secondary\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"col-md-12\"], [1, \"alert\", \"alert-info\"], [1, \"btn\", \"btn-primary\", \"me-2\", 3, \"click\"]],\n        template: function DashboardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"h1\", 6);\n            i0.ɵɵtext(7);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"p\", 7);\n            i0.ɵɵtext(9, \"Ready to create amazing email signatures?\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(10, \"div\", 8)(11, \"div\", 9)(12, \"span\", 10);\n            i0.ɵɵelement(13, \"i\");\n            i0.ɵɵtext(14);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(15, \"button\", 11);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_15_listener() {\n              return ctx.logout();\n            });\n            i0.ɵɵelement(16, \"i\", 12);\n            i0.ɵɵtext(17, \" Logout \");\n            i0.ɵɵelementEnd()()()()()();\n            i0.ɵɵtemplate(18, DashboardComponent_div_18_Template, 11, 0, \"div\", 13);\n            i0.ɵɵelementStart(19, \"div\", 14)(20, \"div\", 15)(21, \"div\", 16)(22, \"div\", 17)(23, \"h5\");\n            i0.ɵɵtext(24, \"Templates\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(25, \"div\", 18)(26, \"p\");\n            i0.ɵɵtext(27, \"Browse and select from our collection of email signature templates.\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(28, \"button\", 19);\n            i0.ɵɵtext(29, \"Browse Templates\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(30, \"div\", 15)(31, \"div\", 16)(32, \"div\", 17)(33, \"h5\");\n            i0.ɵɵtext(34, \"My Signatures\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(35, \"div\", 18)(36, \"p\");\n            i0.ɵɵtext(37, \"View and manage your created email signatures.\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(38, \"button\", 20);\n            i0.ɵɵtext(39, \"View Signatures\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(40, \"div\", 15)(41, \"div\", 16)(42, \"div\", 17)(43, \"h5\");\n            i0.ɵɵtext(44, \"Create New\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(45, \"div\", 18)(46, \"p\");\n            i0.ɵɵtext(47, \"Start creating a new email signature from scratch.\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(48, \"button\", 21);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_48_listener() {\n              return ctx.createSignature();\n            });\n            i0.ɵɵtext(49, \"Create Signature\");\n            i0.ɵɵelementEnd()()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(7);\n            i0.ɵɵtextInterpolate1(\"Welcome back, \", ctx.currentUser == null ? null : ctx.currentUser.firstName, \"! \\uD83D\\uDC4B\");\n            i0.ɵɵadvance(5);\n            i0.ɵɵclassProp(\"pro\", ctx.currentUser == null ? null : ctx.currentUser.isPro);\n            i0.ɵɵadvance(1);\n            i0.ɵɵclassMapInterpolate1(\"fas fa-\", (ctx.currentUser == null ? null : ctx.currentUser.isPro) ? \"crown\" : \"user\", \"\");\n            i0.ɵɵadvance(1);\n            i0.ɵɵtextInterpolate1(\" \", (ctx.currentUser == null ? null : ctx.currentUser.isPro) ? \"PRO\" : \"FREE\", \" \");\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngIf\", !(ctx.currentUser == null ? null : ctx.currentUser.isPro));\n          }\n        },\n        dependencies: [i4.NgIf],\n        encapsulation: 2\n      });\n    }\n  }\n  return DashboardComponent;\n})();\nexport { DashboardComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}